<link rel="stylesheet" href="./style.css">

<body>
</body>

<script type="module">

  import { Game } from './src/Game.js';
  import { Segment } from './src/Segment.js';
  import { Paddle, Wall, Ball, Level } from './src/Pong.js';


  const level = new Level();
  level.addWallsFromPoints( [ [ 150, 250 ], [ 250, 200 ], [ 350, 250 ], [ 250, 300 ] ] );
  level.addWallsFromPoints( [ [ 10, 500 ], [ 500, 500 ], [ 500, 10 ], [ 10, 10 ] ] );

  level.balls.push( new Ball( { x: 100, y: 100, dx: 0.2, dy: 0.2, fillStyle: 'yellow' } ) );
  
  // TODO: Human controlled players
  level.paddles = [
    new Paddle( new Segment( 10, 10, 10, 500 ), 'red' ),
    new Paddle( new Segment( 500, 10, 500, 500 ), 'aqua' ),
    new Paddle( new Segment( 10, 10, 500, 10 ), 'orange' ),
    new Paddle( new Segment( 10, 500, 500, 500 ), 'lime' ),
  ];

  const game = new Game();
  game.update = ( dt ) => {
    level.update( dt );
  };

  game.draw = ( ctx ) => {
    level.draw( ctx );
  };

</script>

